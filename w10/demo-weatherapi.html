<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather api demo</title>
</head>

<body>
    <h1>Weather Demo</h1>
    <p>the current temp in rexburg is <span id="curr-temp"></span></p>
    <p>the current condition is <span id="curr-cond"></span>.</p>
    <img src="" alt="Weather Icon" id="weather-icon">


    <script>
        const url = 'https://api.openweathermap.org/data/2.5/weather?id=5605242&appid=33e2cecc8554b0c274a39f67cb50d0db&units=imperial';

        fetch(url).then(response => response.json().then(data => {
            console.log(data);
            let currTemp = data.main.temp;
            document.querySelector('#curr-temp').innerText = currTemp + 'Â°F';
            let currCond = data.weather[0].description;
            document.querySelector('#curr-cond').innerText = currCond;

            // weather icon

            let iconId = data.weather[0].icon;
            let iconSource = `http://openweathermap.org/img/wn/${iconId}@2x.png`;
            document.querySelector('#weather-icon').setAttribute('src', iconSource);
            document.querySelector('#weather-icon').setAttribute('alt', data.weather[0].main);

        }))
    </script>
</body>

</html>